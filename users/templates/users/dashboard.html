{% extends 'blog/base.html' %} {% block content %}

<div class="content-wrapper">
  <section  class="dashboard">

    <!-- chart js progress bar -->
    <div  class="row">
      <div  class="col-md-4 grid-margin stretch-card">
        <div  class="card">
          <div  class="card-body" >
            <h4  class="card-title">Current Balance</h4>
            <div  class="radial-progress-container ml-auto mr-auto demo-progress-circle"
              style="height: 200px; width: 200px">
              <div class="radial-progress-inner" style="width: 160px"></div>
              <svg width="200" height="200" version="1.1" xmlns="http://www.w3.org/2000/svg"
                class="radial-progress-bar">
                <defs>
                  <radialGradient id="radial-gradient58" fx="0.09549150281252633" fy="0.7938926261462367" cx="0.5"
                    cy="0.5" r="0.65">
                    <stop offset="30%" stop-color="#d53f3a"></stop>
                    <stop offset="100%" stop-color="#d53f3a"></stop>
                  </radialGradient>
                </defs>
                <circle r="80" cx="100" cy="100" fill="transparent" stroke="#0c0c0c"
                  stroke-dasharray="502.6548245743669" stroke-dashoffset="0" stroke-linecap="round"
                  style="height: 200px; width: 200px; stroke-width: 20px"></circle>
                <circle transform="rotate(270, 100,100)" r="80" cx="100" cy="100" fill="transparent"
                  stroke="url(#radial-gradient58)" stroke-dasharray="502.6548245743669"
                  stroke-dashoffset="502.6548245743669" stroke-linecap="round" style="
                    height: 200px;
                    width: 200px;
                    stroke-width: 20px;
                    stroke-dashoffset: 301.593px;
                    transition: stroke-dashoffset 1000ms linear 0s;
                  "></circle>
              </svg>
            </div>
            <div  class="row my-1">
              <div  class="col-lg-7 mx-auto text-center">
                <div  id="currentBalanceCircle" class="progressbar-js-circle demo-progress-circle">
                </div>
                {% if transaction_info %}
                <h3  class="card-text mb-0 mt-4">Kshs {{ transaction_info.total_revenue|default:0 }}
                </h3>
                {% else %}
                <h3  class="card-text mb-0 mt-4">NIL</h3>
                <p>No transaction information available.</p>
                {% endif %}
                <p  class="card-text">Total Revenue</p>
              </div>
              <div class="btn btn-primary more-btn ml-auto mr-auto mt-4 align-self-center"><i class="zmdi zmdi-money-box"></i> Withdraw</div>
            </div>
            <div  class="row mt-3">
              <h5  class="card-title ml-auto mr-auto">History</h5>
              <div
                class="col-12 bg-gray-dark d-flex flex-row py-3 px-4 rounded justify-content-between">
                <div >
                  <h6  class="mb-1">Transfer to MPesa</h6>
                  <p  class="card-text">Dec 7, 2023</p>
                </div>
                <div  class="align-self-center">
                  <h6  class="font-weight-bold mb-0">Kshs 650</h6>
                </div>
              </div>
              <div
                class="col-12 bg-gray-dark d-flex flex-row py-3 px-4 rounded justify-content-between">
                <div >
                  <h6  class="mb-1">Transfer to MPesa</h6>
                  <p  class="card-text">Dec 2, 2023</p>
                </div>
                <div  class="align-self-center">
                  <h6  class="font-weight-bold mb-0">Kshs 150</h6>
                </div>
              </div>
            </div>

          </div>
        </div>
      </div>
      <div  class="col-md-8 grid-margin stretch-card">
        <div  class="card" id="filter">
          <div  class="card-body">
            {% if videos %}
            <div  class="d-flex flex-row justify-content-between">
              <div >
                <h4  class="card-title">Top Performing Videos</h4>
                <p >By Views</p>
              </div>
              <div  class="align-self-center">
                <p  class="text-muted">View History</p>
              </div>
            </div>
            <div  class="row justify-content-between">
              <div  class="col-12 ">

                <div  class="preview-list  ">
                  {% for video in videos %}
                  <div
                    class="preview-item border-bottom py-3 bg-gray-dark">

                    <div  class="preview-item-content d-sm-flex flex-grow  justify-content-between">
                      <div  class="flex-grow">
                        <h5  class="preview-subject">
                          <a href="{% url 'video-playback' video.id %}">{{ video.title }}</a>
                        </h5>
                      </div>
                      <div  class=" text-sm-right pt-2 pt-sm-0">
                        <p  class="text-muted">
                          {{ video.upload_date|date:"F j, Y" }}
                        </p>
                        <p >30 views</p>
                      </div>
                    </div>
                  </div>
                  {% endfor %}
                  <div  class="preview-item border-bottom py-3">

                    <div  class="preview-thumbnail">
                      <div  class="preview-icon bg-success rounded">
                        <i  class="mdi mdi-cloud-upload"></i>
                      </div>
                    </div>
                    <div  class="preview-item-content d-sm-flex flex-grow justify-content-between">
                      <div  class="flex-grow">
                        <h6  class="preview-subject">
                          Sufferring by Design
                        </h6>
                      </div>
                      <div  class=" text-sm-right pt-2 pt-sm-0">
                        <p  class="text-muted">1 hour ago</p>
                        <p >23 views</p>
                      </div>
                    </div>
                  </div>
                  <div  class="preview-item border-bottom py-3 justify-content-between">
                    <div  class="preview-thumbnail">
                      <div  class="preview-icon bg-info rounded">
                        <i  class="mdi mdi-clock"></i>
                      </div>
                    </div>
                    <div  class="preview-item-content d-sm-flex flex-grow justify-content-between">
                      <div  class="flex-grow">
                        <h6  class="preview-subject">
                          Live Concert at the 02 Arena
                        </h6>
                      </div>
                      <div  class=" text-sm-right pt-2 pt-sm-0">
                        <p  class="text-muted">
                          35 minutes ago
                        </p>
                        <p >7 views</p>
                      </div>
                    </div>
                  </div>
                  <div  class="preview-item border-bottom py-3 justify-content-between">
                    <div  class="preview-thumbnail">
                      <div  class="preview-icon bg-warning rounded">
                        <i  class="mdi mdi-email"></i>
                      </div>
                    </div>
                    <div  class="preview-item-content d-sm-flex flex-grow justify-content-between">
                      <div  class="flex-grow">
                        <h6  class="preview-subject">
                          Broadcast My Bank Balance: Comedy Special
                        </h6>
                      </div>
                      <div  class=" text-sm-right pt-2 pt-sm-0">
                        <p  class="text-muted">
                          55 minutes ago
                        </p>
                        <p >7 views</p>
                      </div>
                    </div>
                  </div>
                  <div  class="preview-item py-3">
                    <div  class="preview-thumbnail">
                      <div  class="preview-icon bg-danger rounded">
                        <i  class="mdi mdi-chart-pie"></i>
                      </div>
                    </div>
                    <div  class="preview-item-content d-sm-flex flex-grow justify-content-between">
                      <div  class="flex-grow">
                        <h6  class="preview-subject">
                          Planning The Live Concert: Behind the Scenes
                        </h6>
                      </div>
                      <div  class=" text-sm-right pt-2 pt-sm-0">
                        <p  class="text-muted">
                          50 minutes ago
                        </p>
                        <p >4 views</p>
                      </div>
                    </div>
                  </div>
                </div>
                {% else %}
                <p>You haven't posted any videos yet.</p>
                {% endif %}
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div  class="row">
      {% if transaction_info %}

      <div  class="col-md-4 grid-margin stretch-card">
        <div  class="card" id="filter">
          <div  class="card-body">
            <div  class="d-flex flex-row p-3">
              <div  class="align-self-top">
                <p  class="card-title mb-1 font-weight-bold">
                  Today's sales
                </p>
                <h3  class="mb-0"><i class="zmdi zmdi-money-box"></i> Kshs 600</h3>
              </div>
              <div  class="align-self-center flex-grow text-right">
                <i  class="icon-lg mdi mdi-chart-pie text-primary"></i>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div  class="col-md-4 grid-margin stretch-card">

        <div  class="card" id="filter">
          <div  class="card-body">

            <div  class="d-flex flex-row p-3">
              <div  class="align-self-top">
                <p  class="card-title mb-1 font-weight-bold">
                  Total Transactions
                </p>
                <h3  class="mb-0"><i class="zmdi zmdi-shopping-cart-plus"></i> {{ transaction_info.total_transactions|default:0 }}</h3>
              </div>
              <div  class="align-self-center flex-grow text-right">
                <i  class="icon-lg mdi mdi-cash-multiple text-warning"></i>
              </div>
            </div>

          </div>
        </div>

      </div>
      <div  class="col-md-4 grid-margin stretch-card">

        <div  class="card" id="filter">
          <div  class="card-body">

            <div  class="d-flex flex-row p-3">
              <div  class="align-self-top">
                <p  class="card-title mb-1 font-weight-bold">
                  Unique Viewers
                </p>
                <h3  class="mb-0"><i class="zmdi zmdi-eye"></i> {{ transaction_info.unique_ip_count|default:0 }}</h3>
              </div>
              <div  class="align-self-center flex-grow text-right">
                <i  class="icon-lg mdi mdi-cash-multiple text-warning"></i>
              </div>
            </div>

          </div>
        </div>

      </div>


      {% else %}
      <p>No transaction information available.</p>
      {% endif %}

      <div  class="col-md-4 grid-margin stretch-card">
        <div  class="card">
          <div  class="card-body">
            <div  class="d-flex flex-row p-3">
              <div  class="align-self-top">
                <p  class="card-title mb-1 font-weight-bold">
                  Popular Time for Watching
                </p>
                {% for hour in transaction_hours %}
                <h3  class="mb-0"><i class="zmdi zmdi-time"></i> {{ hour.transaction_hour|date:"G:i" }} - Transactions: {{
                  hour.transaction_count }}</h3>
                {% endfor %}
              </div>
              <div  class="align-self-center flex-grow text-right">
                <i  class="icon-lg mdi mdi-account-outline text-success"></i>
              </div>
            </div>
          </div>
        </div>
      </div>

    </div>
  </section>
</div>
<!-- {% block footer %}{% include 'blog/footer.html' %}{% endblock %} -->
{% endblock %}
